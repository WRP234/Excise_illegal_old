<div class="modal-header bg-theme">
  <div class="row">
    <div class="col-lg-7">
      <h4 class="modal-title text-white">อ้างอิงหมายค้น
        <a class="btn btn-ghost" href="javaScript:void(0);" [routerLink]="['/searchWarrant/manage', 'C', 'NEW']"
          target="_blank">
          สร้างข้อมูล
        </a>
      </h4>
    </div>
    <div class="col-lg-3 col-sm-8">
      <form autocomplete="off" class="app-search" #searchFrom="ngForm" (ngSubmit)="onSearch(searchFrom.value)">
        <input type="search" name="TEXT_SEARCH" ngModel [(ngModel)]="TEMP_TEXT_SEARCH"
          class="form-control form-control-sm">
        <a href="javaScript:void(0);" class="srh-btn" (click)="onSearch(searchFrom.value)">
          <i class="ti-search"></i>
        </a>
      </form>
    </div>
    <div class="col-lg-1 col-sm-4 p-0">
      <a href="javaScript:void(0);" class="btn text-white" (click)="setAdvSearch()">
        ค้นหาขั้นสูง
      </a>
    </div>

    <a href="javaScript:void(0);" class="close text-white font-14" aria-label="Close" (click)="dismiss('Cross click')">
      <span aria-hidden="true">
        <i class=" ti-close"></i>
      </span>
    </a>
  </div>
</div>
<h5 class="text-right mt-3 pr-3">ILG60_O_02_00_02_02</h5>
<div class="modal-body font-14">
  <div *ngIf="advSearch | async" class="card card-outline-bluish unset-radius">
    <div class="card-header unset-radius">
      <app-card-actions-close></app-card-actions-close>
      <h4 class="card-title m-b-0">ค้นหาขั้นสูง</h4>
    </div>
    <div class="card-body">
      <form class="form-horizontal" #advForm="ngForm" (ngSubmit)="onAdvSearch(advForm.value)">

        <div class="row">
          <label for="" class="col-lg-2 col-sm-3 control-label">เลขที่อ้างอิงของระบบ</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group">
              <input type="text" name="REQUEST_CODE" ngModel [(ngModel)]="TEMP_REQUEST_CODE"
                class="form-control form-control-sm">
            </div>
          </div>

          <label for="" class="col-lg-2 col-sm-3 control-label">เลขที่คำร้อง</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <input type="text" name="REQUEST_NO" ngModel [(ngModel)]="TEMP_REQUEST_NO"
                class="form-control form-control-sm">
              <label for="" class="slash">&nbsp;/&nbsp;</label>
              <input type="text" name="REQUEST_NO_YEAR" ngModel [(ngModel)]="TEMP_REQUEST_NO_YEAR"
                class="form-control form-control-sm">
            </div>
          </div>
        </div>

        <div class="row">
          <label for="" class="col-lg-2 col-sm-3 control-label">ชื่อศาล</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group">
              <input type="text" name="COURT_NAME" ngModel [(ngModel)]="TEMP_COURT_NAME"
                class="form-control form-control-sm">
            </div>
          </div>

          <label for="" class="col-lg-2 col-sm-3 control-label">วันที่เขียนคำร้อง</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <my-date-picker-th ngModel class="form-control form-control-sm unset-form-control"
                name="REQUEST_DATE_FROM" [(options)]="requestDateFromOption" id="REQUEST_DATE_FROM"
                (dateChanged)="onRequestDateFromChange($event)" [(ngModel)]="_REQUEST_DATE_FROM">
              </my-date-picker-th>
              <label for="">&nbsp;ถึง&nbsp;</label>
              <my-date-picker-th ngModel class="form-control form-control-sm unset-form-control" name="REQUEST_DATE_TO"
                [(options)]="requestDateToOption" id="REQUEST_DATE_TO" (dateChanged)="onRequestDateToChange($event)"
                [(ngModel)]="_REQUEST_DATE_TO">
              </my-date-picker-th>
            </div>
          </div>
        </div>

        <div class="row">
          <label for="" class="col-lg-2 col-sm-3 control-label">เจ้าบ้าน/ผู้ดูแลแทน</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group">
              <input type="text" name="PERSON_NAME" ngModel [(ngModel)]="TEMP_PERSON_NAME"
                class="form-control form-control-sm">
            </div>
          </div>
          <label for="" class="col-lg-2 col-sm-3 control-label">ผู้ร้อง</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group">
              <input type="text" name="STAFF_NAME" ngModel [(ngModel)]="TEMP_STAFF_NAME"
                class="form-control form-control-sm">
            </div>
          </div>
        </div>

        <div class="row">
          <label for="" class="col-lg-2 col-sm-3 control-label">หมายเลขคดีดำ</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <input type="text" name="CONSIDER_UNDECIDE_NO" ngModel [(ngModel)]="TEMP_CONSIDER_UNDECIDE_NO"
                class="form-control form-control-sm">
              <label for="" class="slash">&nbsp;/&nbsp;</label>
              <input type="text" name="CONSIDER_UNDECIDE_NO_YEAR" ngModel [(ngModel)]="TEMP_CONSIDER_UNDECIDE_NO_YEAR"
                class="form-control form-control-sm">
            </div>
          </div>

          <label for="" class="col-lg-2 col-sm-3 control-label">หมายเลขคดีแดง</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <input type="text" name="CONSIDER_DECIDE_NO" ngModel [(ngModel)]="TEMP_CONSIDER_DECIDE_NO"
                class="form-control form-control-sm">
              <label for="" class="slash">&nbsp;/&nbsp;</label>
              <input type="text" name="CONSIDER_DECIDE_NO_YEAR" ngModel [(ngModel)]="TEMP_CONSIDER_DECIDE_NO_YEAR"
                class="form-control form-control-sm">
            </div>
          </div>
        </div>

        <div class="row">
          <label for="CONSIDER_DATE_FROM" class="col-lg-2 col-sm-3 control-label">วันที่พิจารณา</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <my-date-picker-th ngModel class="form-control form-control-sm unset-form-control" id="CONSIDER_DATE_FROM"
                name="CONSIDER_DATE_FROM" [options]="considerDateFromOptions"
                (dateChanged)="onConsiderDateFromChange($event)" [(ngModel)]="_CONSIDER_DATE_FROM">
              </my-date-picker-th>
              <label for="CONSIDER_DATE_TO">&nbsp;ถึง&nbsp;</label>
              <my-date-picker-th ngModel class="form-control form-control-sm unset-form-control" id="CONSIDER_DATE_TO"
                name="CONSIDER_DATE_TO" [options]="considerDateToOptions" (dateChanged)="onConsiderDateToChange($event)"
                [(ngModel)]="_CONSIDER_DATE_TO">
              </my-date-picker-th>
            </div>
          </div>

          <label for="" class="col-lg-2 col-sm-3 control-label">เลขที่หมายค้น</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <input type="text" name="SEARCH_WARRANT_NO" ngModel [(ngModel)]="TEMP_SEARCH_WARRANT_NO"
                class="form-control form-control-sm">
              <label for="" class="slash">&nbsp;/&nbsp;</label>
              <input type="text" name="SEARCH_WARRANT_NO_YEAR" ngModel [(ngModel)]="TEMP_SEARCH_WARRANT_NO_YEAR"
                class="form-control form-control-sm">
            </div>
          </div>
        </div>

        <div class="row">
          <label for="SEARCH_WARRANT_DATE_FROM" class="col-lg-2 col-sm-3 control-label">วันที่ออกหมายค้น</label>
          <div class="col-lg-4 col-md-7 col-sm-9">
            <div class="form-group input-group">
              <my-date-picker-th ngModel id="SEARCH_WARRANT_DATE_FROM"
                class="form-control form-control-sm unset-form-control" name="SEARCH_WARRANT_DATE_FROM"
                [options]="warrantDateFromOptions" (dateChanged)="onWarrantDateFromChange($event)"
                [(ngModel)]="_SEARCH_WARRANT_DATE_FROM">
              </my-date-picker-th>
              <label for="SEARCH_WARRANT_DATE_TO">&nbsp;ถึง&nbsp;</label>
              <my-date-picker-th ngModel class="form-control form-control-sm unset-form-control"
                id="SEARCH_WARRANT_DATE_TO" name="SEARCH_WARRANT_DATE_TO" [options]="warrantDateToOptions"
                (dateChanged)="onWarrantDateToChange($event)" [(ngModel)]="_SEARCH_WARRANT_DATE_TO">
              </my-date-picker-th>
            </div>
          </div>
        </div>

        <div class="row form-group">
          <div class="col-lg-8 col-4"></div>
          <div class="col-lg-2 col-4">
            <button type="button" class="btn btn-block" [ngClass]="{'btn-green': selectedEntry}"
              [disabled]="!selectedEntry" (click)="onSelect('Save click')">เลือก</button>
          </div>
          <div class="col-lg-2 col-4">
            <button type="submit" class="btn btn-block btn-themecolor">ค้นข้อมูล</button>
          </div>
        </div>

      </form>
    </div>
  </div>
  <div class="card  unset-radius">
    <div class="card-body p-0">
      <div class="table-responsive overflow-y-hidden">
        <table style="width: 185%; max-width: unset;" class="table table-sm table-striped table-nowrap"
          [formGroup]="formGroup">
          <thead>
            <tr>
              <th class="text-center" style="width: 2%;"></th>
              <th class="text-center" style="width: 3%;">ลำดับ</th>
              <th style="width: 8%;">เลขที่อ้างอิงของระบบ</th>
              <th style="width: 5%;">เลขที่คำร้อง</th>
              <th>ชื่อศาล</th>
              <th class="text-center">วันที่เขียนคำร้อง</th>
              <th>เจ้าบ้าน/ผู้ดูแลแทน</th>
              <th>ผู้ร้อง</th>
              <th style="width: 5%;">หมายเลขคดีดำ</th>
              <th style="width: 5%;">หมายเลขคดีแดง</th>
              <th class="text-center">วันที่พิจารณา</th>
              <th style="width: 5%;">เลขที่หมายค้น</th>
              <th class="text-center">วันที่ออกหมายค้น</th>
            </tr>
          </thead>
          <tbody formArrayName="ArrestSearchWarrant">
            <tr *ngFor="let item of ArrestSearchWarrant.controls; let i=index;" [formGroupName]="i">
              <td class="text-center">
                <input type="radio" [id]="'customRadio'+i" name="IS_CHECKED" class="with-gap radio-col-indigo"
                  (change)="onSelectionChange(item)">
                <label [for]="'customRadio'+i" class="m-0"></label>

              </td>
              <td class="text-center">{{item.get('ROW_ID').value}}</td>
              <td>{{item.get('REQUEST_CODE')?.value}}</td>
              <td>{{item.get('REQUEST_NO')?.value}}/{{setYearTh(item.get('REQUEST_NO_YEAR')?.value)}}</td>
              <td>{{item.get('PRESENT_COURT_NAME')?.value}}</td>
              <td class="text-center">{{setDateStruct(item.get('REQUEST_DATE')?.value)}}</td>
              <td>
                {{item.get('PERSON_TITLE_SHORT_NAME_TH')?.value}}{{item.get('PERSON_FIRST_NAME')?.value}}
                {{item.get('PERSON_MIDDLE_NAME')?.value}}
                {{item.get('PERSON_LAST_NAME')?.value}}
              </td>
              <td>
                {{item.get('STAFF_TITLE_SHORT_NAME_TH')?.value}}{{item.get('STAFF_FIRST_NAME')?.value}}
                {{item.get('STAFF_LAST_NAME')?.value}}
              </td>
              <td>
                {{item.get('CONSIDER_UNDECIDE_NO')?.value}}/{{setYearTh(item.get('CONSIDER_UNDECIDE_NO_YEAR')?.value)}}
              </td>
              <td>
                {{item.get('CONSIDER_DECIDE_NO')?.value}}/{{setYearTh(item.get('CONSIDER_DECIDE_NO_YEAR')?.value)}}
              </td>
              <td class="text-center">{{setDateStruct(item.get('CONSIDER_DATE')?.value)}}</td>
              <td>
                {{item.get('SEARCH_WARRANT_NO')?.value}}/{{setYearTh(item.get('SEARCH_WARRANT_NO_YEAR')?.value)}}
              </td>
              <td class="text-center">{{setDateStruct(item.get('SEARCH_WARRANT_DATE')?.value)}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card-footer card-footer-unset">
      <app-pagination-table [TotalItems]="paginage.TotalItems" [CurrentPage]="paginage.CurrentPage"
        [PageSize]="paginage.PageSize" [RowsPerPageOptions]="paginage.RowsPerPageOptions"
        (onPageChange)="pageChanges($event)">
      </app-pagination-table>
    </div>
  </div>
</div>


<!-- <app-table-data [columns]="columns" [data]="gridData" [options]="TableDataOptions"></app-table-data> -->